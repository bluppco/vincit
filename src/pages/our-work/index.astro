---
// IMPORTING CUSTOM STYLES
import "../../styles/custom.css"

// IMPORTING LAYOUTS
import Layout from "../../layouts/Layout.astro"
import Container from "../../layouts/Container.astro"

// IMPORTING COMPONENTS
import HeaderBanner from "../../components/common/HeaderBanner.astro"
import Masthead from "../../components/our-work/Masthead.astro"
import Work from "../../components/our-work/Work.astro"
import Header from "../../components/header/Header"
import Industries from "../../components/our-work/Industries.astro"

import { endpointFetch } from "../../functions/endpoint"

const runtime = Astro.locals.runtime;
const endpoint = endpointFetch( runtime.env.ENVIRONMENT )

const data = await fetch( endpoint + "/work" )
const data_json = await data.json()
const work = data_json.data
---
<Layout>
	<HeaderBanner />
	<Header client:load />
	<Container>
        <Masthead />
		<Industries />
        <Work data={ work } />
	</Container>
</Layout>
