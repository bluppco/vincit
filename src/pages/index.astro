---
import { endpointFetch } from "../functions/endpoint"

const runtime = Astro.locals.runtime;
const endpoint = endpointFetch( runtime.env.ENVIRONMENT )

// NETWORK CALL TO GET DATA
const network_data = await fetch( endpoint + "/home" )
const data_json = await network_data.json()

const { data } = data_json

// HOME PROPS
let our_approach = null
let our_purpose = null

data.map( ( data ) => {

	if( data.slug === "our-approach" )
        our_approach = data
	else if ( data.slug === "our-purpose" )
		our_purpose = data

})


// IMPORTING CUSTOM STYLES
import "../styles/custom.css"

// IMPORTING LAYOUTS
import Layout from "../layouts/Layout.astro"
import Container from "../layouts/Container.astro"

// IMPORTING COMPONENTS
import Header from "../components/header/Header"
import HeaderBanner from "../components/common/HeaderBanner.astro"
import HomeCover from "../components/home/Cover.astro"
import OurApproach from "../components/home/OurApproach.astro"
import OurWork from "../components/home/OurWork.astro"
import TheVincitWay from "../components/common/TheVincitWay.astro"
import Careers from "../components/home/Careers.astro"
import Insights from "../components/home/Insights.astro"
import OurPurpose from "../components/home/OurPurpose.astro"
import Marquee from "../components/home/Marquee.astro"
import Footer from "../components/footer/Footer.astro"
---
<Layout>
	<HeaderBanner />
	<Header client:load />
	<Container>
		<HomeCover />
		<OurApproach data={ our_approach } />
	</Container>
	<Marquee />
	<Container>
		<OurWork />
		<TheVincitWay />
		<Careers />
		<Insights />
		<OurPurpose data={ our_purpose } />
	</Container>
	<Footer />
</Layout>
